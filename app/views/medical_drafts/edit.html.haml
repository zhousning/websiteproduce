- provide(:title, t('.title'))

- content_for :main_body do
  .container-fluid
    .row.justify-content-sm-center
      .col-sm-12
        = form_for @medical_draft do |f|
          - if @medical_draft.errors.any?
            #error_explanation
              %h2= "#{pluralize(@medical_draft.errors.count, "error")} prohibited this buyer from being saved:"
              %ul
                - @medical_draft.errors.full_messages.each do |msg|
                  %li= msg
        
          .form-group.row
            = f.label Setting.medical_drafts.name, :class => "col-sm-3 text-right"
            .col-sm-9
              = f.text_field :name, :class => "form-control"
          .form-group.row
            .col-sm-3.offset-sm-2
              = f.submit '保存', :class => "btn btn-success"
            .col-sm-3.offset-sm-1
              = link_to '返回', medical_drafts_path, :class => "btn btn-danger"
            
        
          .container-fluid
            %h1
              = Setting.medical_questions.a1
            .row
              - @A1s.each do |major|
                .col-md-3.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.a2
            .row
              - @A2s.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.a3
            .row
              - @A3s.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.b1
            .row
              - @B1s.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.b2
            .row
              - @B2s.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.b3
            .row
              - @B3s.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 
          
          .container-fluid
            %h1
              = Setting.medical_questions.other
            .row
              - @others.each do |major|
                .col-md-2.mb-3
                  .row
                    .col-md-7
                      = major.name + '(' + major.medical_questions.count.to_s + ')'
                    .col-md-5
                      %input{:type=>'number', :name => "major[" + major.id.to_s + "]", :class=>'form-control', :value => @dftmajors[major.id.to_s]} 

        
          -#
            .form-group.row
              = f.label "关联对象", :class => "col-sm-1 control-label"
              .col-sm-11
                = f.fields_for :medical_majors do |medical_major|
                  = render 'medical_major_fields', f: medical_major 
                .links
                  = link_to_add_association "添加", f, :medical_majors, :class => "btn btn-success"
        

= render "layouts/control_panel"
